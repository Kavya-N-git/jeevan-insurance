<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="signupcss.css" />
    <title>Sign up form</title>
    <!--MVC loading
    <script src="src/controller/initialize.js"></script>
    <script src="src/model/user.js"></script>
    <script src="src/view/createuser.js"></script>
    <script>
      window.addEventListener('load', init.view.createuser.setupUI);
    </script>
    end of MVC loading-->

  </head>
  <body>
    <div class="alert"></div>
    <form id="user" method="POST" action="index.html">
      <h3 id="signuph3">Sign Up Form</h3>
      <label for="full_name">Full Name</label>
      <input type="text" name="full_name" id="full_name" placeholder="Enter your Full name" minlength="3" maxlength="15" required pattern="[A-Za-z]+"/>

      <label for="email">Email</label>
      <input type="email" name="email" id="email" placeholder="Enter your email id" pattern="^[a-z0-9]+@[a-z]+\.com$" required/>

      <label for="phone">Phone Number</label>
      <input type="tel" name="phone" id="phone" placeholder="Enter phno" maxlength="10" pattern="[0-9]{10}" />

      <label for="dob">Date Of Birth</label>
      <input type="date" name="dob" id="dob" />

      <label for="age">Age</label>
      <input type="number" name="age" id="age" placeholder="Enter your age" pattern="[0-9]"/>

      <label for="gender">Gender</label>
      <input type="radio" name="gender" value="male" id="gender" required>Male
      <input type="radio" name="gender" value="female" id="gender">Female

      <label for="country">Country</label>
      <input type="text" name="country" id="country" required/>

      <label for="state">State</label>
      <select name="state" id="state" tabindex="0" required>
        <option value="">Select a state</option>
        <option value="karnataka">Karnataka</option>
        <option value="andra-pradesh">Aandra Pradesh</option>
        <option value="tamil-nadu">TamilNadu</option>
      </select>

      <label for="city">City</label>
      <input type="text" name="city" id="city" required/>

      <label for="userid">Userid</label>
      <input type="text" name="userid" id="userid" required/>

      <label for="password">Password</label>
      <input type="password" name="password" id="password" required />

      <label for="security">Security Question</label>
      <select name="security" id="security" tabindex="0" required>
        <option value="">Select a question</option>
        <option value="best-friend">What's your best friend's name?</option>
        <option value="pet">What's the name of your first pet?</option>
        <option value="spouse">Which food you like most?</option>
      </select>
      
      <label for="answer">Answer</label>
      <input type="text" name="answer" id="answer" required />

      <label for="description">Description</label>
      <textarea
        name="description"
        id="description"
        placeholder="Describe yourself in 100 words"
      ></textarea>

    <!--  <button type="confirm" id="confirm" name="confirm" onclick="validation()">CONFIRM</button><br>-->
      <button type="submit" id="submit" name="commit">SUBMIT</button>
      <button type="submit"  name="reset" href="signup.html">RESET</button>
    </form>
    <a href="index.html"><button type="reset" id="save">BACK</button></a>
    <script>
      const name = document.getElementById("myName");

name.addEventListener("input", () => {
    name.setCustomValidity("");
    name.checkValidity();
});

name.addEventListener("invalid", () => {
    if (name.validity.patternMismatch) {
        name.setCustomValidity("Please enter a correct Pattern");
    } else {
        name.setCustomValidity(
            "Enter only characters 6-20"
        );
    }
});
const age = document.getElementById("age");

age.addEventListener("input", () => {
    age.setCustomValidity("");
    age.checkValidity();
});
age.addEventListener("invalid", () => {
     if (age.validity.rangeOverflow) {
        age.setCustomValidity("age should be <60")}
        else if (age.validity.rangeUnderflow) {
        age.setCustomValidity("age  should be > 18")}
        else
        {age.setCustomValidity("Enter a Valid age")}
    });

const phone = document.getElementById("phone");

phone.addEventListener("input", () => {
    phone.setCustomValidity("");
    phone.checkValidity();
});

phone.addEventListener("invalid", () => {
    if (phone.validity.valueMissing) {
        phone.setCustomValidity("Please enter a Phone Number of 10 digits its a required field");
    } 
    else if (phone.validity.patternMismatch) {
        name.setCustomValidity("Please enter a correct Pattern");}
    else {
        phone.setCustomValidity("Enter a Valid Phone number");
    }
});

    </script>
    
  </body>
  
</html